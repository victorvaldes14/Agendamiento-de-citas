{% extends 'master.html' %}
{% block title %}Reagendar Cita{% endblock %}

{% block content %}
<div style="max-width:550px; margin:0 auto; background:white; padding:25px; border-radius:12px;">
    <h2 style="text-align:center; margin-bottom:20px;">Reagendar Cita</h2>

    <p style="margin-bottom:15px;">
        Estás reagendando la cita de 
        <strong>{{ cita.nombre_cliente|default:cita.usuario.username }}</strong> 
        del día <strong>{{ cita.fecha|date:"d/m/Y" }}</strong> 
        a las <strong>{{ cita.hora|time:"H:i" }}</strong>.
    </p>

    {% if form.non_field_errors %}
        <div style="background:#dc3545; color:white; padding:10px; border-radius:6px; margin-bottom:15px;">
            {% for error in form.non_field_errors %}{{ error }}{% endfor %}
        </div>
    {% endif %}

    <form method="post">
        {% csrf_token %}
        <label for="id_nueva_fecha"><strong>Nueva fecha:</strong></label>
        {{ form.nueva_fecha }}
        <label for="id_nueva_hora"><strong>Nueva hora:</strong></label>
        {{ form.nueva_hora }}
        <label for="id_motivo_reagendamiento"><strong>Motivo del reagendamiento:</strong></label>
        {{ form.motivo_reagendamiento }}

        <div style="margin-top:20px;">
            <button type="submit" class="btn success" style="width:100%;">Guardar Cambios</button>
            <a href="{% url 'panel_peluquero' %}" class="btn neutral" style="width:100%; display:inline-block; text-align:center; margin-top:8px;">Volver</a>
        </div>
    </form>
</div>
{% endblock %}
